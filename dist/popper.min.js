!function(t){function i(i,a){this.element=t(i),this.primary=this.element.find("[data-primary]"),this.poppers=this.element.find(":not([data-primary])"),this.options=t.extend({},l,a||{}),this.primary.on("click",this.primaryClicked.bind(this)),this.element.addClass(n),this.poppers.addClass(s),this.primary.addClass(o),this.hidePoppers(!1)}var n="popper-container",s="secondary-popper",o="primary-popper",a="popped",e="radial",r="right",p="left",h="up",d="down",u=[r,p,h,d],l={transitionOutDuration:450,transitionInDuration:450,transitionOutDelay:50,transitionInDelay:50,transitionOutEasing:"easeOutBack",transitionInEasing:"easeInBack",animation:null,direction:e,radius:100},c={spiral:{transitionOutDuration:450,transitionInDuration:450,transitionOutDelay:50,transitionInDelay:50,transitionOutEasing:"easeOutBack",transitionInEasing:"easeInBack",direction:e},pop:{transitionOutDuration:450,transitionInDuration:450,transitionOutDelay:0,transitionInDelay:0,transitionOutEasing:"easeOutBack",transitionInEasing:"easeInBack",direction:e}};i.prototype.getPoppersStartingPosition=function(){return{x:Math.abs(this.primary.position().left+this.primary.width()/2),y:Math.abs(this.primary.position().top+this.primary.height()/2)}},i.prototype.getTransitionRules=function(){return this.options.animation&&this.options.animation in c?c[this.options.animation]:this.options},i.prototype.hidePoppers=function(i){var n=this.getPoppersStartingPosition(),s=this.getTransitionRules(),o={},e=u.indexOf(this.options.direction)>-1?this.options.direction:p;i===!1?this.poppers.each(function(){o[e]=n.x-t(this).width()/2,o.top=n.y-t(this).height()/2,t(this).css(o)}):this.poppers.each(function(i,a){o[e]=n.x-t(a).width()/2,o.top=n.y-t(a).height()/2,console.log("index",o),t(a).stop().delay(i*s.transitionInDelay).animate(o,{duration:s.transitionInDuration,easing:s.transitionInEasing})}.bind(this)),this.element.removeClass(a)},i.prototype.showPoppers=function(){var t,i=(2*Math.PI/this.poppers.length,this.getTransitionRules()),n=this.element.width(),s=this.element.height();this.element.addClass(a),this.poppers.show(),this.options.direction===e?t=this.radialTransition.bind(this,i,n,s):u.indexOf(this.options.direction)>-1&&(t=this.straightTransition.bind(this,i,this.options.direction,n)),this.poppers.each(t)},i.prototype.radialTransition=function(i,n,s,o,a){var e=t(a).width(),r=t(a).height(),p=n/2-t(a).width()/2,h=s/2-t(a).height()/2,d=o*(2*Math.PI/this.poppers.length),u=Math.round(e+this.options.radius*Math.cos(d)-p/2),l=Math.round(r+this.options.radius*Math.sin(d)-h/2);t(a).delay(o*i.transitionOutDelay).animate({left:u+"px",top:l+"px"},{duration:i.transitionOutDuration,easing:i.transitionOutEasing})},i.prototype.straightTransition=function(i,n,s,o,a){var e=t(a).width(),r=this.getPoppersStartingPosition(),p={left:"",right:""},h={};p[n]=r.x,t(a).css(p),h[n]=o*(e+e/2)+s+e/2,t(a).delay(o*i.transitionOutDelay).animate(h,{duration:i.transitionOutDuration,easing:i.transitionOutEasing})},i.prototype.primaryClicked=function(){return this.element.hasClass("popped")?this.hidePoppers():this.showPoppers(),!1},t.fn.popper=function(n){return this.each(function(){var s=new i(this,n);t(this).data("popper",s)})}}(jQuery);